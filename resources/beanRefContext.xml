<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
  "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
  <description>
	Defines the contexts for the Omero Server. Other beanRefFactory.xmls may define
  other contexts.  
  </description>

	<bean id="placeholderConfig"
		class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="ignoreResourceNotFound" value="true"/>
		<property name="locations">
		<list>
			<value>hibernate.properties</value>            
			<value>omero.properties</value>      
			<value>ejb.properties</value>
		</list>
		</property>
	</bean>
  
  <bean    id="ome.server"
    	  class="ome.system.OmeroContext"
    lazy-init="true">
		<constructor-arg index="0">
    	<list>
        <value>ome/services/aop.xml</value>
      </list>
    </constructor-arg>
    <constructor-arg index="1" value="true"/>
		<constructor-arg index="2" ref="ome.internal"/>
  </bean>
  
  <bean    id="ome.internal"
        class="ome.system.OmeroContext"
    lazy-init="true">
    <constructor-arg index="0">
      <list>
        <!-- Arranged roughly in stack order -->
        <value>ome/services/config-local.xml</value>
        <value>ome/services/security.xml</value>
        <value>ome/services/services.xml</value>
        <value>ome/services/hibernate.xml</value>
        <value>ome/services/${data.source}.xml</value>
      </list>
    </constructor-arg>
    <constructor-arg index="1" value="true"/>
  </bean> 
  
 </beans>
