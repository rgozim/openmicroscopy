<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
  "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
  <description>
        Defines the contexts for the Omero Server. Other beanRefFactory.xmls may define
  other contexts.
  </description>

        <bean id="placeholderConfig"
                class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
                <property name="ignoreResourceNotFound" value="true"/>
                <property name="locations">
                <list>
                        <value>hibernate.properties</value>
                        <value>omero.properties</value>
                </list>
                </property>
        </bean>

  <bean    id="ome.model"
        class="org.springframework.context.support.ClassPathXmlApplicationContext"
        lazy-init="true">
    <constructor-arg index="0">
      <list>
        <value>classpath:ome/services/messaging.xml</value>
        <value>classpath:ome/model.xml</value>
      </list>
    </constructor-arg>
  </bean>

  <bean    id="ome.server"
          class="ome.system.OmeroContext"
          lazy-init="true">
    <constructor-arg index="0">
      <list>
        <!--
        Arranged roughly in stack order, which is to say that beans
        from files higher in the list, should not use beans from files
        lower in the list.
        -->
        <value>classpath:ome/config.xml</value>
        <value>classpath:ome/services/messaging.xml</value>
        <value>classpath:ome/services/jta-jbossts.xml</value>
        <value>classpath:ome/services/datalayer.xml</value>
        <value>classpath:ome/services/sec-primitives.xml</value>
        <value>classpath:ome/services/hibernate.xml</value>
        <value>classpath:ome/services/services.xml</value>
        <value>classpath*:ome/services/service-*.xml</value>
        <value>classpath:ome/services/sec-system.xml</value>
      </list>
    </constructor-arg>
    <constructor-arg index="1" ref="ome.model"/>
  </bean>

</beans>
